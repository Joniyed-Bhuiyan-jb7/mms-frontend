package bd.edu.seu.messmanagementsystemfrontend.ui.admin;import bd.edu.seu.messmanagementsystemfrontend.model.Evaluation;import bd.edu.seu.messmanagementsystemfrontend.service.AdminService;import bd.edu.seu.messmanagementsystemfrontend.ui.Footer;import com.vaadin.flow.component.Key;import com.vaadin.flow.component.button.Button;import com.vaadin.flow.component.button.ButtonVariant;import com.vaadin.flow.component.datepicker.DatePicker;import com.vaadin.flow.component.grid.Grid;import com.vaadin.flow.component.html.Div;import com.vaadin.flow.component.notification.Notification;import com.vaadin.flow.component.orderedlayout.VerticalLayout;import com.vaadin.flow.component.textfield.TextArea;import com.vaadin.flow.component.textfield.TextField;import com.vaadin.flow.router.Route;import javax.servlet.http.HttpSession;import java.time.LocalDate;import java.util.ArrayList;@Route("show_evaluation")public class ShowEvaluation extends VerticalLayout {    private AdminService adminService;    public ShowEvaluation(HttpSession httpSession,AdminService adminService) {        super();        this.adminService = adminService;        AdminHeadeer adminHeadeer = new AdminHeadeer(httpSession);        adminHeadeer.addAttachListener(attachEvent -> {            String userRole =(String) httpSession.getAttribute("user");            if(userRole==null) userRole="unknown";            Notification.show(userRole);            if(!userRole.equals("Admin")){                httpSession.removeAttribute("user");                adminHeadeer.getUI().ifPresent(ui -> ui.navigate("login"));            }        });        Div body = new Div();        body.setSizeFull();        TextField managerName = new TextField("Manager name: ","manger name");        managerName.setSizeFull();        DatePicker datePicker = new DatePicker("Set any date of months for show whole month result");        datePicker.setSizeFull();        datePicker.setValue(LocalDate.now());        Button show = new Button("Show");        show.setSizeFull();        show.addThemeVariants(ButtonVariant.LUMO_PRIMARY);        show.addClickShortcut(Key.ENTER);        TextArea area = new TextArea();        area.setSizeFull();        area.setValue("Avg evaluation of this user: 0.0");        Grid<Evaluation> grid = new Grid<>(Evaluation.class);        VerticalLayout verticalLayout = new VerticalLayout();        verticalLayout.setSizeFull();        verticalLayout.add(managerName,datePicker,show,area,grid);        body.add(verticalLayout);        grid.setItems(new ArrayList<>());        show.addClickListener(buttonClickEvent -> {            if(!managerName.isEmpty()) {                String managerNameValue = managerName.getValue();                grid.setItems(adminService.getManagerEvaluation(managerNameValue,datePicker.getValue()));                area.setValue("Avg evaluation of this user: "+adminService.getAvgManagerEvaluation(managerNameValue,datePicker.getValue()));            }        });        Footer footer = new Footer();        add(adminHeadeer,body,footer);    }}