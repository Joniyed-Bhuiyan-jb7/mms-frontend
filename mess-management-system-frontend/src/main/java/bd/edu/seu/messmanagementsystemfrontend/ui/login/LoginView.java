package bd.edu.seu.messmanagementsystemfrontend.ui.login;import bd.edu.seu.messmanagementsystemfrontend.service.LoginService;import com.vaadin.flow.component.Key;import com.vaadin.flow.component.button.Button;import com.vaadin.flow.component.button.ButtonVariant;import com.vaadin.flow.component.dialog.Dialog;import com.vaadin.flow.component.formlayout.FormLayout;import com.vaadin.flow.component.html.Image;import com.vaadin.flow.component.icon.VaadinIcon;import com.vaadin.flow.component.notification.Notification;import com.vaadin.flow.component.textfield.PasswordField;import com.vaadin.flow.component.textfield.TextField;import com.vaadin.flow.router.Route;import org.springframework.beans.factory.annotation.Autowired;import javax.servlet.http.HttpSession;@Route("login")public class LoginView extends Dialog {    @Autowired    private LoginService loginService;    public LoginView(HttpSession httpSession) {        super();        TextField userName = new TextField("Username: ","Username");        PasswordField passwordField = new PasswordField("Password: ","password");        Button signin = new Button("SignIn", VaadinIcon.SIGN_IN.create());        signin.addThemeVariants(ButtonVariant.LUMO_PRIMARY);        signin.addClickShortcut(Key.ENTER);        Button signup = new Button("SignUp",VaadinIcon.ADD_DOCK.create());        signup.addThemeVariants(ButtonVariant.LUMO_PRIMARY);        FormLayout formLayout = new FormLayout();        Image image = new Image();        image.setSrc("data:image/png;base64,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");        image.setHeight("100px");        image.setWidth("200px");        formLayout.add(image,userName,passwordField,signin,signup);        add(formLayout);        setWidth("300px");        setOpened(true);        setCloseOnEsc(false);        setCloseOnOutsideClick(false);        open();        signin.addClickListener(buttonClickEvent -> {            if(!userName.isEmpty() && !passwordField.isEmpty()) {                String userNameValue = userName.getValue();                String passWord = passwordField.getValue();                String token = loginService.getToken(userNameValue, passWord);                if (token.equals("Admin")) {                    httpSession.setAttribute("username",userNameValue);                    httpSession.setAttribute("user", token);                    signin.getUI().ifPresent(ui -> ui.navigate("admin"));                } else if (token.equals("Member")) {                    httpSession.setAttribute("username",userNameValue);                    httpSession.setAttribute("user", token);                    signin.getUI().ifPresent(ui -> ui.navigate("member"));                } else if (token.equals("Manager")) {                    httpSession.setAttribute("user", token);                    httpSession.setAttribute("username",userNameValue);                    signin.getUI().ifPresent(ui -> ui.navigate("manager"));                } else {                    httpSession.setAttribute("username",userNameValue);                    httpSession.setAttribute("user", token);                    Notification.show(token);                }            }else Notification.show("username or password isEmpty");        });        signup.addClickListener(buttonClickEvent -> {            signup.getUI().ifPresent(ui -> ui.navigate("registration"));        });    }}